(()=>{"use strict";(()=>{class e{constructor(e,t,i,s){this.url=e,this.timeout=t,this.internalClass=i,this.externalClass=s,this.timedOut=!1,this.img=new Image,this.timer=null,this.isDevToolsOpen=!1,this.handleImageLoad=()=>{this.timedOut||(this.clearTimer(),this.setInternalClient())},this.handleImageError=()=>{this.timedOut||(this.clearTimer(),this.setExternalClient("image error"))},this.checkDevToolsOpen(),this.initializeCheck()}initializeCheck(){this.setTimer(),this.loadImage()}setTimer(){this.timer=window.setTimeout((()=>{this.timedOut=!0,this.cancelImageLoad(),this.setExternalClient("timeout")}),this.timeout)}loadImage(){this.img.onload=this.handleImageLoad,this.img.onerror=this.handleImageError,this.img.src=this.url}clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}cancelImageLoad(){this.img.src=""}setInternalClient(){document.body.classList.add(this.internalClass),this.log("Internal client detected (image loaded).")}setExternalClient(e){document.body.classList.add(this.externalClass),this.log(`External client detected (${e}).`)}log(e){this.isDevToolsOpen&&console.log(e)}checkDevToolsOpen(){const e=performance.now(),t=performance.now()-e;this.isDevToolsOpen=t>100}}new e("https://example.com/image.jpg",3e3,"internal-client","external-client")})()})();
//# sourceMappingURL=context-detector.66b034791dcc1fac820e.js.map